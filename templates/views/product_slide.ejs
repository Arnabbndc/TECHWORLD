<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Bootstrap Multiple Item Product Carousel</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Open+Sans">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
<style>
body {
	background: #e2eaef;
	font-family: "Open Sans", sans-serif;
}
h2 {
	color: #000;
	font-size: 26px;
	font-weight: 300;
	text-align: center;
	text-transform: uppercase;
	position: relative;
	margin: 30px 0 60px;
}
h2::after {
	content: "";
	width: 100px;
	position: absolute;
	margin: 0 auto;
	height: 4px;
	border-radius: 1px;
	background: #7ac400;
	left: 0;
	right: 0;
	bottom: -20px;
}
.carousel {
	margin: 50px auto;
	padding: 0 70px;
}
.carousel .item {
	color: #747d89;
	min-height: 325px;
	text-align: center;
	overflow: hidden;
}
.carousel .thumb-wrapper {
	padding: 25px 15px;
	background: #fff;
	border-radius: 6px;
	text-align: center;
	position: relative;
	box-shadow: 0 2px 3px rgba(0,0,0,0.2);
}
.carousel .item .img-box {
	height: 120px;
	margin-bottom: 20px;
	width: 100%;
	position: relative;
}
.carousel .item img {	
	max-width: 100%;
	max-height: 100%;
	display: inline-block;
	position: absolute;
	bottom: 0;
	margin: 0 auto;
	left: 0;
	right: 0;
}
.carousel .item h4 {
	font-size: 18px;
}
.carousel .item h4, .carousel .item p, .carousel .item ul {
	margin-bottom: 5px;
}
.btn-slide {
	color: #7ac400;
	font-size: 11px;
	text-transform: uppercase;
	font-weight: bold;
	background: none;
	border: 1px solid #7ac400;
	padding: 6px 14px;
	margin-top: 5px;
	line-height: 16px;
	border-radius: 20px;
}
.btn-slide:focus {
	color: #fff;
	background: #7ac400;
	box-shadow: none;
}
.btn-slide i {
	font-size: 14px;
	font-weight: bold;
	margin-left: 5px;
}
.item-price {
	font-size: 13px;
	padding: 2px 0;
}
.carousel .item-price strike {
	opacity: 0.7;
	margin-right: 5px;
}
.carousel-control-prev, .carousel-control-next {
	height: 44px;
	width: 40px;
	background: #7ac400;	
	margin: auto 0;
	border-radius: 4px;
	opacity: 0.8;
}
.carousel-control-prev:hover, .carousel-control-next:hover {
	background: #78bf00;
	opacity: 1;
}
.carousel-control-prev i, .carousel-control-next i {
	font-size: 36px;
	position: absolute;
	top: 50%;
	display: inline-block;
	margin: -19px 0 0 0;
	z-index: 5;
	left: 0;
	right: 0;
	color: #fff;
	text-shadow: none;
	font-weight: bold;
}
.carousel-control-prev i {
	margin-left: -2px;
}
.carousel-control-next i {
	margin-right: -4px;
}		
.carousel-indicators {
	bottom: -50px;
}
.carousel-indicators li, .carousel-indicators li.active {
	width: 10px;
	height: 10px;
	margin: 4px;
	border-radius: 50%;
	border: none;
}
.carousel-indicators li {	
	background: rgba(0, 0, 0, 0.2);
}
.carousel-indicators li.active {	
	background: rgba(0, 0, 0, 0.6);
}
.carousel .wish-icon {
	position: absolute;
	right: 10px;
	top: 10px;
	z-index: 99;
	cursor: pointer;
	font-size: 16px;
	color: #abb0b8;
}
.carousel .wish-icon .fa-heart {
	color: #ff6161;
}
.star-rating li {
	padding: 0;
}
.star-rating i {
	font-size: 14px;
	color: #ffc000;
}
</style>
<script>
$(document).ready(function(){
	$(".wish-icon i").click(function(){
		$(this).toggleClass("fa-heart fa-heart-o");
	});
});	
</script>

<div class="container-xl">
	<div class="row">
		<div class="col-md-12">
			<h2>Featured <b>Products</b></h2> 
			<!-- Wrapper for carousel items -->
			
					<div class="row">

                        <% for (let product of topProducts){ %>    
						<div class="col-sm-3">
							<div class="thumb-wrapper">
								<div class="img-box">
									<img src="<%= product.IMAGE %>" class="img-fluid" alt="">									
								</div>
								<div class="thumb-content">
									<a href=<%="/product/" + product.PRODUCTID %> ><h4><%= product.PRODUCT_NAME %></h4>	</a>								
									
									<p class="item-price"><b>$<%= product.PRICE %></b></p>
									<button class="btn-slide btn-slide-primary"  onclick="addHobe(<%= product.PRODUCTID %>)">Add to Cart</button>
								</div>						
							</div>
						</div>
                        <% } %>		
                    </div>
                </div>
                
            </div>

        <div class="row">
            <div class="col-md-12">
                <h2>Newly Released <b>Products</b></h2> 
					<div class="row">

                        <% for (let product of newlyReleased){ %>    
						<div class="col-sm-3">
							<div class="thumb-wrapper">
								<div class="img-box">
									<img src="<%= product.IMAGE %>" class="img-fluid" alt="">									
								</div>
								<div class="thumb-content">
									<a href=<%="/product/" + product.PRODUCTID %> ><h4><%= product.PRODUCT_NAME %></h4>	</a>								
									
									<p class="item-price"><b>$<%= product.PRICE %></b></p>
									<button class="btn-slide btn-slide-primary"  onclick="addHobe(<%= product.PRODUCTID %>)">Add to Cart</button>
								</div>						
							</div>
						</div>
                        <% } %>		
						
					</div>
			</div>
			
		</div>
		</div>
	</div>
</div>
  

<script>

    function addHobe(productID){

        let data = {
                 pid: productID,
                 
             }
             axios.post(' http://localhost:3000/cart/cartAdd',data).then((da)=>{
                 console.log("-------------done-------------");
                 document.getElementById("total_price").innerHTML ='$'+da.data.price;
                if(da.data.exists>0){
                    Increament(productID);
                    return;
                }
                const para = document.createElement("div");
                para.className="Cart-Items";
                para.id="sheraa";
        para.innerHTML = "<div class=\"image-box\">"+
     "<img src=\""+da.data.product.IMAGE+ "\" width=150px height=150px>"+
     "</div>"+
     "<div class=\"about\">"+
     "<div class=\"title\">"+ 
      da.data.product.PRODUCT_NAME+
     "</div>"+
    "<div class=\"amount-remove\">"+
    "<div class=\"amount\">$ "+da.data.product.PRICE+" </div>"+
     "<div class=\"remove\"><u>Remove</u></div></div></div>"+
    "<div class=\"counter\">"+
        "<button class=\"btn\" onclick=\"Increament("+da.data.product.PRODUCTID+")\">+</button>"+
        "<input type=\"text\" class=\"quantity\" name=\"quantity\" id=\"id "+da.data.product.PRODUCTID+"\"  value=1 readonly>"+
        "<button class=\"btn\" onclick=\"Decreament("+da.data.product.PRODUCTID+")\">-</button>"+
     "</div>";
        
        // Append to body:
        document.getElementById("cart-list").appendChild(para);
             })
        // let data = {
        //          pid: productID,
                 
        //      }
        //      axios.post(' http://localhost:3000/cart/cartAdd',data).then((da)=>{
        //          console.log("-------------done-------------");
    
        //         if(da.data.exists){
        //             Increament(productID);
        //             return;
        //         }
                // document.getElementById("abar-sheraa").innerHTML=da.data.product.PRODUCT_NAME;
        //      let para = document.createElement("div");
        // para.innerHTML = document.getElementById("sheraa").innerHTML;
        // para.className="Cart-Items";
        // para.children[0].children[0].src=da.data.product.IMAGE;
        // para.children[1].children[0].innerHTML=da.data.product.PRODUCT_NAME;
        // para.children[1].children[1].children[0].innerHTML=da.data.product.PRICE;
        // para.children[2].children[1].value=1;
        // para.children[2].children[1].id="id "+da.data.product.PRODUCTID;
        // console.log(para.children[2].children[1].id);
        // para.children[2].children[0].attributes[1].nodeValue="Increament("+da.data.product.PRODUCTID+")";
        // para.children[2].children[2].attributes[1].nodeValue="Decreament("+da.data.product.PRODUCTID+")";

        //         console.log(para.children);
        // Append to body        
        // document.getElementById("cart-list").appendChild(para);
        //      })
         }
    </script>