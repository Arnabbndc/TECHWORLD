1. rating
2. brandAdd
3. product chosen before
4. remove er hazar hazar procedure




CREATE OR REPLACE TRIGGER BUY_TRIGGER
BEFORE INSERT
ON BUYS
FOR EACH ROW
DECLARE
BEGIN
DELETE_IN_CART(:NEW.USERID,:NEW.PRODUCTID);
END ;
/


CREATE OR REPLACE TRIGGER REMOVE_FROM_CART
BEFORE DELETE
ON CART
FOR EACH ROW
DECLARE
CNT NUMBER;
BEGIN
SELECT COUNT(*) INTO CNT
FROM PRODUCT_CHOSEN
WHERE USERID=:OLD.USERID AND PRODUCTID=:OLD.PRODUCTID;
IF CNT=0 THEN
INSERT_INTO_CHOSEN(:OLD.USERID,:OLD.PRODUCTID);
END IF;
END ;
/